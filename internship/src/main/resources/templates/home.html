<html xmlns:th="http://www.w3.org/1999/xhtml" lang="ja">
<title>Summer Short Internship 2019</title>
<link rel="stylesheet" type="text/css" href="/css/table.css" th:href="@{/css/table.css}">
<body>

<h1>
    Todo Management System
</h1>
<h4>2019 Summer Internship Pre-task</h4>

<table>
    <tr>
        <th><span style="color: #FFFFFF">No</span></th>
        <th class="title"><span style="color: #FFFFFF">Title</span></th>
        <th class="description"><span style="color: #FFFFFF">Description</span></th>
        <th class="deadline"><span style="color:#FFFFFF">Deadline</span></th>
        <th class="title"><span style="color: #FFFFFF">Delete</span></th>
    </tr>
    <tr th:each="todo:${todoList}">
        <td th:text="${todo.number}"></td>
        <td th:text="${todo.title}"></td>
        <td th:text="${todo.description}"></td>
        <td th:text="${todo.deadline}"></td>
        <td class="delete">
            <form method="post" action="/delete">
                <input type="submit" th:value="${todo.number}" name="delBtn"/>
            </form>
        </td>
    </tr>
</table>
<br>
<button id="btn">Go to the form</button>
<script type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/
    const list = /*[[${todoToBeAlertedList}]]*/ [];
    list.forEach(todo => {
        const message = "The deadline of " + todo.title + " is coming up soon!";
        alert(message);
    });
    /*]]>*/

    document.getElementById("btn").addEventListener("click", onButtonClick);

    function onButtonClick() {
        window.location.href = './create'
    }
</script>
</body>
</html>
